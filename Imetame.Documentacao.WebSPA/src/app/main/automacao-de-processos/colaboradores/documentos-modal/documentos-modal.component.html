<div class="chamada">
    <div fxFlex="75" fxLayout="row" fxLayoutAlign="start center">
        <span>{{documentos[0].NomeColaborador}}</span>

        <div style="color: white;" (click)="openAbaAtividadeEspecifica()"  matTooltip="Relacionar colaborador com atividade"
            class="docs-obrigatorios" fxLayout="row" fxLayoutAlign="end center">
            <div class="docs-obrigatorios-icon">
                <mat-icon>update</mat-icon>
            </div>
        </div>
    </div>

    <div fxFlex="25" style="color: white;">
        <div *ngIf="StatusDocumentoObrigatoriosModel.length > 0" (click)="openDocsObrigatorio()"
            class="docs-obrigatorios" fxLayout="row" fxLayoutAlign="end center">
            <div class="docs-obrigatorios-icon">
                <mat-icon>warning</mat-icon>
            </div>
            <span class="docs-obrigatorios-text">Documentos Obrigatórios</span>
        </div>

        <!-- <div *ngIf="StatusDocumentoObrigatoriosModel.length == 0" fxLayout="row" fxLayoutAlign="start center">
            <div style="padding: 15px 5px;">
                <mat-icon>done_outline</mat-icon>
            </div>
            <h3><strong>Todos os documentos estão relacionados</strong></h3>
        </div> -->
    </div>

</div>

<mat-dialog-content class="mat-typography">
    <div *ngIf="visualizarImagem" fxFlex="40">
        <div class="overflow-custom">
            <div class="btnClose">
                <span class="closeImg" (click)="closeModal()">&times;</span>
            </div>
            <div class="wh-full img">
                <img [src]="imageSource" alt="Image Source">
                <form class="w-95-p" fxLayout="row wrap" fxLayoutAlign="space-between">
                    <mat-form-field fxFlex="100" style="margin-left: 20px;" appearance="outline"
                        [style.margin-top]="'10px'">
                        <mat-label>Data de Vencimento</mat-label>
                        <input formControlName="dtVencimento" matInput #inputData [matDatepicker]="dataPicker"
                            [placeholder]="'DD/MM/YYYY'">
                        <mat-datepicker-toggle matSuffix [for]="dataPicker"></mat-datepicker-toggle>
                        <mat-datepicker #dataPicker></mat-datepicker>
                        <mat-icon class="icon-size-5" matPrefix [svgIcon]="'heroicons_outline:calendar'"></mat-icon>
                    </mat-form-field>

                    <mat-form-field style="margin-left: 20px;" fxFlex="100" appearance="outline">
                        <input formControlName="arquivo" type="file" accept="image/png, image/jpeg" matInput>
                    </mat-form-field>
                </form>
            </div>
        </div>
    </div>
    <div fxFlex="100">
        <div class="modal">
            <div class="modal-content">
                <div class="document-grid">
                    <div *ngFor="let doc of documentos, let i = index">
                        <div class="document-btn-envio-destra">
                            <button (click)="enviarDocsParaDestra(doc,i)" mat-icon-button [ngStyle]="{
                                        'color': (doc.SincronizadoDestra) ? 'green' : 'red'
                                    }">
                                <mat-icon>cloud_upload</mat-icon>
                            </button>
                        </div>
                        <div class="document-box">
                            <button matTooltip="{{doc.DescArquivo}}" mat-button mat-raised-button
                                (click)="docDetalhes(doc)" 
                                [ngClass]="{
                                    'vencidoXVencer': doc.Vencido || doc.Vencer || !doc.RelacionadoDestra,            
                                    'sincronizado-destra': doc.SincronizadoDestra
                                }">
                                {{ doc.DescArquivo }}
                                <h5 *ngIf="!doc.Vencido && !doc.Vencer && doc.DtVencimentoFormatada != '0001-01-01T00:00:00'">
                                    Vencimento - {{ doc.DtVencimentoFormatada | date:'dd/MM/yyyy' }} <br> {{doc.DiasVencer}} Dias
                                </h5>
                                <h5 class="btnH4" *ngIf="doc.Vencido">
                                    Vencido - {{ doc.DtVencimentoFormatada | date:'dd/MM/yyyy' }}
                                </h5>
                                <h5 class="btnH4" *ngIf="doc.Vencer">
                                    A vencer - {{ doc.DtVencimentoFormatada | date:'dd/MM/yyyy' }} <br> {{doc.DiasVencer}} Dias
                                </h5>
                                <h5 class="btnH4" *ngIf="!doc.RelacionadoDestra && !doc.Vencido && !doc.Vencer && doc.DtVencimentoFormatada == '0001-01-01T00:00:00'">
                                    Documento não relacionado a Destra
                                </h5>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</mat-dialog-content>

<mat-dialog-actions align="end" class="padding-border">
    <button class="btn-fechar" mat-button mat-dialog-close>Fechar</button>
    <button class="btn-submit" (click)="enviarDocumentosParaDestra()" mat-button mat-dialog-close>Enviar todos documentos</button>
</mat-dialog-actions>